## ── evmbench production env ────────────────────────────────────
## Copy to .env and fill in real values before deploying.
## Lines marked CHANGE are mandatory; the rest have sane defaults.

# ── General ──
BACKEND_DEV=false

# ── Web / FastAPI ──
BACKEND_WEB_HOST=0.0.0.0
BACKEND_WEB_PORT=1337
BACKEND_WEB_WORKERS=4

# ── URLs (CHANGE both to your real domains) ──
FRONTEND_PUBLIC_URL=https://app.YOURDOMAIN.com
BACKEND_PUBLIC_URL=https://api.YOURDOMAIN.com

# ── Postgres ──
POSTGRES_USER=evmbench
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=evmbench

# ── RabbitMQ ──
RABBITMQ_USER=evmbench
RABBITMQ_PASSWORD=CHANGE_ME_STRONG_PASSWORD
RABBITMQ_PORT=5672
RABBITMQ_QUEUE=instancer.jobs

# ── Secrets service ──
SECRETS_TOKEN_RO=CHANGE_ME_GENERATE_TOKEN
SECRETS_TOKEN_WO=CHANGE_ME_GENERATE_TOKEN
BACKEND_SECRETS_BACKEND=http
BACKEND_SECRETS_BACKEND_ARGUMENTS={"url":"http://secretsvc:8081","token":"CHANGE_ME_SAME_AS_SECRETS_TOKEN_WO"}

SECRETSVC_HOST=0.0.0.0
SECRETSVC_PORT=8081
SECRETSVC_WORKERS=1

# ── Result service ──
RESULTSVC_PORT=8083

# ── OpenAI key handling ──
# direct (default): user provides key; worker uses it directly
# proxy (optional): worker receives encrypted token; oai_proxy decrypts and forwards
BACKEND_OAI_KEY_MODE=direct

# ── OAI Proxy (only required when BACKEND_OAI_KEY_MODE=proxy) ──
# OAI_PROXY_BASE_URL=http://oai.loc:8084
# OAI_PROXY_HOST=0.0.0.0
# OAI_PROXY_PORT=8084
# OAI_PROXY_WORKERS=1
# OAI_PROXY_AES_KEY=CHANGE_ME_GENERATE_32BYTE_KEY

# ── Auth (GitHub OAuth) ──
AUTH_BACKEND=github
AUTH_BACKEND_ARGUMENTS={"client_id":"CHANGE_ME","client_secret":"CHANGE_ME"}

# ── JWT ──
BACKEND_JWT_SECRET=CHANGE_ME_GENERATE_SECRET

# ── CORS extra origins (JSON list of additional allowed origins) ──
# BACKEND_CORS_EXTRA_ORIGINS=["https://custom.example.com"]

# ── Caddy domain (used by Caddyfile env placeholder) ──
BACKEND_DOMAIN=api.YOURDOMAIN.com
